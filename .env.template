# Environment template for mesa-ya-ws
# Copy this file to .env and fill the values for your environment.

# Server port for the Go WS service
PORT=8080

# JWT secret used to validate tokens produced by Nest auth
JWT_SECRET=changeme

# Logging options (level: debug|info|warn|error, format: json|text)
LOG_LEVEL=info
LOG_FORMAT=text

# Base URL for the Nest REST API used to fetch section snapshots
REST_BASE_URL=http://localhost:3000

# Optional: override the REST client timeout (supports Go duration format, e.g. 15s)
REST_TIMEOUT=10s

# Kafka brokers (comma separated). Example: localhost:29092 or kafka:9092
KAFKA_BROKERS=localhost:29092

# Optional: Kafka consumer group
KAFKA_GROUP_ID=mesa-ya-consumers

# Optional: comma-separated list of entity->topic mappings. You can map an entity to multiple
# Kafka topics by separating them with the pipe character (|).
# Ex: WS_ENTITY_TOPICS=restaurants:mesa-ya.restaurants.created|mesa-ya.restaurants.updated,
#     reservations:mesa-ya.reservations.created|mesa-ya.reservations.updated
WS_ENTITY_TOPICS=restaurants:mesa-ya.restaurants.created|mesa-ya.restaurants.updated|mesa-ya.restaurants.deleted

# Allowed realtime actions (commonly created,updated,deleted,snapshot)
WS_ALLOWED_ACTIONS=created,updated,deleted,snapshot

# Default websocket entity namespace exposed via /ws/restaurant route
WS_DEFAULT_ENTITY=restaurants
